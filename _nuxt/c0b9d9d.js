(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{385:function(e,t,n){var content=n(389);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(91).default)("7bd1b0a8",content,!0,{sourceMap:!1})},386:function(e,t,n){var content=n(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(91).default)("6786094a",content,!0,{sourceMap:!1})},388:function(e,t,n){"use strict";n(385)},389:function(e,t,n){var o=n(90)((function(i){return i[1]}));o.push([e.i,".ui.table{border-radius:0!important}",""]),o.locals={},e.exports=o},390:function(e,t,n){"use strict";n(386)},391:function(e,t,n){var o=n(90)((function(i){return i[1]}));o.push([e.i,".ui.form[data-v-2287cd50]{height:-webkit-fill-available}",""]),o.locals={},e.exports=o},394:function(e,t,n){"use strict";n.r(t);n(50),n(44);var o=n(8),r=(n(89),n(49),{props:["from"],data:function(){return{input:{email:"",password:""},password:"password",loading:{local:!1,line:!1,google:!1,facebook:!1},errors:{form:{}},slash:"slash"}},computed:{user:function(){return this.$store.state.auth}},methods:{Login:function(input){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=e.$validator(input,{email:"required|email",password:"required"},{required:":attribute ห้ามว่าง",email:"รูปแบบ :attribute ไม่ถูกต้อง"})).fails()){t.next=4;break}return t.abrupt("return",e.errors=n.errors.errors);case 4:return e.loading.local=!0,t.next=7,e.$auth.loginWith("local",{data:{email:input.email.toLowerCase(),password:input.password}});case 7:o=t.sent,data=o.data,e.update({_id:data._id,access_token:data.access_token,refresh_token:data.refresh_token}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),e.loading.local=!1,e.errors=t.t0.response.data;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},LoginGoogle:function(){this.loading.google=!0,window.open("https://auth.bangkokprint.com/v1/login/google".concat(this.bb()),"Authentication Google","position=center,height=600,width=700,modal=yes,alwaysRaised=yes"),window.onmessage=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:data=t.data,this.update({_id:data._id,access_token:data.access_token,refresh_token:data.refresh_token});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)},LoginLine:function(){this.loading.line=!0,window.open("https://auth.bangkokprint.com/v1/login/line".concat(this.bb()),"Authentication Line","position=center,height=600,width=700,modal=yes,alwaysRaised=yes"),window.onmessage=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:data=t.data,this.update({_id:data._id,access_token:data.access_token,refresh_token:data.refresh_token});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)},LoginFacebook:function(){this.loading.facebook=!0,window.open("https://auth.bangkokprint.com/v1/login/facebook".concat(this.bb()),"Authentication Facebook","position=center,height=600,width=700,modal=yes,alwaysRaised=yes"),window.onmessage=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:data=t.data,this.update({_id:data._id,access_token:data.access_token,refresh_token:data.refresh_token});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)},bb:function(){var e=this.$auth.$storage.getUniversal("redirect");return-1!=navigator.userAgent.indexOf("Line")?"?browser=line&from=".concat(this.from,"&to=").concat(e||"/"):""},showPass:function(){this.password="password"==this.password?"text":"password",this.slash="slash"==this.slash?"":"slash"},update:function(e){var t=this;this.$axios.setToken(e.access_token),this.$auth.setUserToken(e.access_token),setTimeout((function(){var e=t.$auth.$storage.getUniversal("redirect");window.location.href=e||"/"}),2e3)}}}),l=r,c=(n(388),n(57)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui form segment basic"},[t("div",{staticClass:"ui grid forminput"},[t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column"}),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet four wide computer column"}),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet eight wide computer column"},[t("div",{staticClass:"ui segment no box shadow",staticStyle:{padding:"2.5rem"}},[t("div",{staticClass:"ui grid forminput"},[t("div",{staticClass:"sixteen wide column"}),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column"},[t("div",{staticClass:"required field"},[t("label",[e._v("อีเมล์")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.input.email,expression:"input.email"}],attrs:{type:"text",placeholder:"ป้อนอีเมล์ . . ."},domProps:{value:e.input.email},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.Login(e.input))},function(t){e.errors={form:{}}}],input:function(t){t.target.composing||e.$set(e.input,"email",t.target.value)}}}),e._v(" "),e.errors.form.hasOwnProperty("email")?t("div",{staticClass:"ui pointing red basic label"},[t("p",[e._v(e._s(e.errors.form.email[0]))])]):e._e()])]),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column"},[t("div",{staticClass:"required field"},[t("label",[e._v("รหัสผ่าน")]),e._v(" "),t("div",{staticClass:"ui icon input"},["checkbox"===e.password?t("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{placeholder:"ป้อนรหัสผ่าน . . .",type:"checkbox"},domProps:{checked:Array.isArray(e.input.password)?e._i(e.input.password,null)>-1:e.input.password},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.Login(e.input))},function(t){e.errors={form:{}}}],change:function(t){var n=e.input.password,o=t.target,r=!!o.checked;if(Array.isArray(n)){var l=e._i(n,null);o.checked?l<0&&e.$set(e.input,"password",n.concat([null])):l>-1&&e.$set(e.input,"password",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(e.input,"password",r)}}}):"radio"===e.password?t("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{placeholder:"ป้อนรหัสผ่าน . . .",type:"radio"},domProps:{checked:e._q(e.input.password,null)},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.Login(e.input))},function(t){e.errors={form:{}}}],change:function(t){return e.$set(e.input,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{placeholder:"ป้อนรหัสผ่าน . . .",type:e.password},domProps:{value:e.input.password},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.Login(e.input))},function(t){e.errors={form:{}}}],input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),e._v(" "),t("i",{class:{"circular link icon eye":!0,slash:e.slash},on:{click:e.showPass}})]),e._v(" "),e.errors.form.hasOwnProperty("password")?t("div",{staticClass:"ui pointing red basic label"},[t("p",[e._v(e._s(e.errors.form.password[0]))])]):e._e()])]),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column"},[e.errors.hasOwnProperty("message")?t("div",{staticClass:"ui negative message"},[t("p",[e._v(e._s(e.errors.message))])]):e._e(),e._v(" "),t("button",{class:{"ui fluid button fankub":!0,disabled:e.loading.local},on:{click:function(t){return e.Login(e.input)}}},[t("i",{staticClass:"icon user outline"}),e._v(e._s(e.loading.local?"Loading . . .":"เข้าสู่ระบบ"))])]),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column"},[t("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.forgot.apply(null,arguments)}}},[e._v("ลืมรหัสผ่าน ?")])]),e._v(" "),e._m(1),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column"},[t("div",{staticClass:"ui grid forminput"},[e._m(2),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet eight wide computer column"},[t("button",{class:{"ui fluid button google plus":!0,disabled:e.loading.google},on:{click:e.LoginGoogle}},[e._v(e._s(e.loading.google?"Loading . . .":"Gmail"))])]),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet eight wide computer column"},[t("button",{class:{"ui fluid button green":!0,disabled:e.loading.line},on:{click:e.LoginLine}},[e._v(e._s(e.loading.line?"Loading . . .":"Line"))])])])])])])]),e._v(" "),t("div",{staticClass:"sixteen wide mobile eight wide tablet four wide computer column"})])])}),[function(){var e=this._self._c;return e("div",{staticClass:"sixteen wide column center aligned"},[e("h1",{staticClass:"ui header fankub"},[this._v("ล็อกอินเข้าสู่ระบบ")])])},function(){var e=this._self._c;return e("div",{staticClass:"sixteen wide column"},[e("div",{staticClass:"ui divider"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"sixteen wide mobile eight wide tablet sixteen wide computer column center aligned"},[t("h3",{staticClass:"ui header"},[e._v("\n                        เข้าสู่ระบบผ่าน Social Media\n                        "),t("div",{staticClass:"sub header"},[e._v("คุณสามารถใช้โซเชียลมีเดีย ของคุณเชื่อมต่อกับ fankub.com")])])])}],!1,null,null,null),d={layout:"none",auth:!1,components:{formLogin:component.exports},mounted:function(){if(this.$auth.loggedIn)return this.$router.push("/")}},m=(n(390),Object(c.a)(d,(function(){var e=this._self._c;return e("div",{staticClass:"ui form"},[e("form-login",{attrs:{from:"https://ticket.bangkokprint.com"}})],1)}),[],!1,null,"2287cd50",null));t.default=m.exports}}]);